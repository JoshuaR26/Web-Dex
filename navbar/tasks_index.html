<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script defer src="theme.js"></script>
    <link rel="stylesheet" href="tasks_style.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link
      href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,700&display=swap"
      rel="stylesheet"
    />
    
  </head>
  
  <body>
    <nav class="navbar">
      <ul class="navbar-nav">
        <li class="logo">
          <a href="#" class="nav-link">
            <span class="link-text logo-text">unityhub</span>
            <svg
              aria-hidden="true"
              focusable="false"
              data-prefix="fad"
              data-icon="angle-double-right"
              role="img"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 448 512"
              class="svg-inline--fa fa-angle-double-right fa-w-14 fa-5x"
            > 
              <g class="fa-group">
                <path
                  fill="currentColor"
                  d="M224 273L88.37 409a23.78 23.78 0 0 1-33.8 0L32 386.36a23.94 23.94 0 0 1 0-33.89l96.13-96.37L32 159.73a23.94 23.94 0 0 1 0-33.89l22.44-22.79a23.78 23.78 0 0 1 33.8 0L223.88 239a23.94 23.94 0 0 1 .1 34z"
                  class="fa-secondary"
                ></path>
                <path
                  fill="currentColor"
                  d="M415.89 273L280.34 409a23.77 23.77 0 0 1-33.79 0L224 386.26a23.94 23.94 0 0 1 0-33.89L320.11 256l-96-96.47a23.94 23.94 0 0 1 0-33.89l22.52-22.59a23.77 23.77 0 0 1 33.79 0L416 239a24 24 0 0 1-.11 34z"
                  class="fa-primary"
                ></path>
              </g>
            </svg>
          </a>
        </li>
  
        <li class="nav-item">
          <a href="#" class="nav-link">
                <i class="fa fa-home" style="font-size:36px"></i>
            <span class="link-text">Home</span>
          </a>
        </li>
  
        <li class="nav-item">
          <a href="#" class="nav-link">
            <i class="fa fa-user-circle-o" style="font-size:36px"></i>
            <span class="link-text">Profile</span>
          </a>
        </li>
  
        <li class="nav-item">
          <a href="#" class="nav-link">
            <i class="fa fa-globe" style="font-size:36px"></i>
            <span class="link-text">Organization</span>
          </a>
        </li>
  
        <li class="nav-item">
          <a href="#" class="nav-link">
            <i class="fa fa-sliders" style="font-size:36px"></i>
            <span class="link-text">Tasks</span>
          </a>
        </li>
  
        <li class="nav-item">
            <a href="#" class="nav-link">
              <i class="fa fa-money" style="font-size:36px"></i>
              <span class="link-text">Payments</span>
            </a>
          </li>        
        <li class="nav-item">
          <a href="#" class="nav-link">
            <i class="fa fa-share-square" style="font-size:36px"></i>
              <span class="link-text">LOGOUT</span>
          </a>
        </li>
      </ul>
    </nav>
  
    <main>
      <div class="screen">  
        <div class="left">
        <div class="txt">
          <p><b>Hello there!</b></p>
          <span class="title"><b>Today's Jobs</b></span>| 23 March 2024
        </div>
        <div class="today-rect">
          <div class="cont">
            <div class="pict"></div>
          <div class="info">
            <h4>Job 1</h4>
            <h5>Chennai, India</h5>
            <p>description</p>
          </div>
          <div class="card_footer">
              <div class="status">
                <h3><b>Status:</h3></b>
                <h4>Active</h4>
              </div>
          </div>
      </div>
    </div>
    <div class="txt">
          <span class="title"><b>Upcoming Jobs</b></span>
        </div>
        <div class="today-rect">
          <div class="cont">
            <div class="pict"></div>
          <div class="info">
            <h4>Job 1</h4>
            <h5>Chennai, India</h5>
            <p>description</p>
          </div>
          <div class="card_footer">
              <div class="status">
                <h3><b>Status:</h3></b>
                <h4>Pending</h4>
              </div>
          </div>
      </div>
    </div>
    <div class="today-rect">
      <div class="cont">
        <div class="pict"></div>
      <div class="info">
        <h4>Job 1</h4>
        <h5>Chennai, India</h5>
        <p>description</p>
      </div>
      <div class="card_footer">
          <div class="status">
            <h3><b>Status:</h3></b>
            <h4>Pending</h4>
          </div>
      </div>
  </div>
</div>
      </div>
      <div class="right">
        <div class="container">
          <h2>Calendar</h2>
          <div class="container-calendar">
              <div id="right">
                <h3 id="monthAndYear"></h3>
                <div class="button-container-calendar">
                  <button id="previous"
                    onclick="previous()">
                    ‹
                  </button>
                  <button id="next"
                    onclick="next()">
                    ›
                  </button>
                </div>
                <table class="table-calendar"
                  id="calendar"
                  data-lang="en">
                  <thead id="thead-month"></thead>
                  <!-- Table body for displaying the calendar -->
                  <tbody id="calendar-body"></tbody>
                </table>
                <div class="footer-container-calendar">
                  <label for="month">Jump To: </label>
                  <!-- Dropdowns to select a specific month and year -->
                  <select id="month" onchange="jump()">
                    <option value=0>Jan</option>
                    <option value=1>Feb</option>
                    <option value=2>Mar</option>
                    <option value=3>Apr</option>
                    <option value=4>May</option>
                    <option value=5>Jun</option>
                    <option value=6>Jul</option>
                    <option value=7>Aug</option>
                    <option value=8>Sep</option>
                    <option value=9>Oct</option>
                    <option value=10>Nov</option>
                    <option value=11>Dec</option>
                  </select>
                  <!-- Dropdown to select a specific year -->
                  <select id="year" onchange="jump()"></select>
                </div>
              </div>
            </div>
      </div>
  </div>
</div>
      </div>
    </div>
      
    </main>

    <script>
      let events = [];

// letiables to store event input fields and reminder list
let eventDateInput =
document.getElementById("eventDate");
let eventTitleInput =
document.getElementById("eventTitle");
let eventDescriptionInput =
document.getElementById("eventDescription");
let reminderList =
document.getElementById("reminderList");

// Counter to generate unique event IDs
let eventIdCounter = 1;

// Function to add events
function addEvent() {
  let date = eventDateInput.value;
  let title = eventTitleInput.value;
  let description = eventDescriptionInput.value;

  if (date && title) {
    // Create a unique event ID
    let eventId = eventIdCounter++;

    events.push(
      {
        id: eventId, date: date,
        title: title,
        description: description
      }
    );
    showCalendar(currentMonth, currentYear);
    eventDateInput.value = "";
    eventTitleInput.value = "";
    eventDescriptionInput.value = "";
    displayReminders();
  }
}

// Function to delete an event by ID
function deleteEvent(eventId) {
  // Find the index of the event with the given ID
  let eventIndex =
  events.findIndex((event) =>
    event.id === eventId);

  if (eventIndex !== -1) {
    // Remove the event from the events array
    events.splice(eventIndex, 1);
    showCalendar(currentMonth, currentYear);
    displayReminders();
  }
}

// Function to display reminders
function displayReminders() {
  reminderList.innerHTML = "";
  for (let i = 0; i < events.length; i++) {
    let event = events[i];
    let eventDate = new Date(event.date);
    if (eventDate.getMonth() ===
      currentMonth &&
      eventDate.getFullYear() ===
        currentYear) {
      let listItem = document.createElement("li");
      listItem.innerHTML =
        `<strong>${event.title}</strong> - 
        ${event.description} on 
        ${eventDate.toLocaleDateString()}`;

      // Add a delete button for each reminder item
      let deleteButton =
      document.createElement("button");
      deleteButton.className = "delete-event";
      deleteButton.textContent = "Delete";
      deleteButton.onclick = function () {
        deleteEvent(event.id);
      };

      listItem.appendChild(deleteButton);
      reminderList.appendChild(listItem);
    }
  }
}

// Function to generate a range of 
// years for the year select input
function generate_year_range(start, end) {
  let years = "";
  for (let year = start; year <= end; year++) {
    years += "<option value='" +
      year + "'>" + year + "</option>";
  }
  return years;
}

// Initialize date-related letiables
today = new Date();
currentMonth = today.getMonth();
currentYear = today.getFullYear();
selectYear = document.getElementById("year");
selectMonth = document.getElementById("month");

createYear = generate_year_range(1970, 2050);

document.getElementById("year").innerHTML = createYear;

let calendar = document.getElementById("calendar");

let months = [
  "January",
  "February",
  "March",
  "April",
  "May",
  "June",
  "July",
  "August",
  "September",
  "October",
  "November",
  "December"
];
let days = [
  "Sun", "Mon", "Tue", "Wed",
  "Thu", "Fri", "Sat"];

$dataHead = "<tr>";
for (dhead in days) {
  $dataHead += "<th data-days='" +
    days[dhead] + "'>" +
    days[dhead] + "</th>";
}
$dataHead += "</tr>";

document.getElementById("thead-month").innerHTML = $dataHead;

monthAndYear =
  document.getElementById("monthAndYear");
showCalendar(currentMonth, currentYear);

// Function to navigate to the next month
function next() {
  currentYear = currentMonth === 11 ?
    currentYear + 1 : currentYear;
  currentMonth = (currentMonth + 1) % 12;
  showCalendar(currentMonth, currentYear);
}

// Function to navigate to the previous month
function previous() {
  currentYear = currentMonth === 0 ?
    currentYear - 1 : currentYear;
  currentMonth = currentMonth === 0 ?
    11 : currentMonth - 1;
  showCalendar(currentMonth, currentYear);
}

// Function to jump to a specific month and year
function jump() {
  currentYear = parseInt(selectYear.value);
  currentMonth = parseInt(selectMonth.value);
  showCalendar(currentMonth, currentYear);
}

// Function to display the calendar
function showCalendar(month, year) {
  let firstDay = new Date(year, month, 1).getDay();
  tbl = document.getElementById("calendar-body");
  tbl.innerHTML = "";
  monthAndYear.innerHTML = months[month] + " " + year;
  selectYear.value = year;
  selectMonth.value = month;

  let date = 1;
  for (let i = 0; i < 6; i++) {
    let row = document.createElement("tr");
    for (let j = 0; j < 7; j++) {
      if (i === 0 && j < firstDay) {
        cell = document.createElement("td");
        cellText = document.createTextNode("");
        cell.appendChild(cellText);
        row.appendChild(cell);
      } else if (date > daysInMonth(month, year)) {
        break;
      } else {
        cell = document.createElement("td");
        cell.setAttribute("data-date", date);
        cell.setAttribute("data-month", month + 1);
        cell.setAttribute("data-year", year);
        cell.setAttribute("data-month_name", months[month]);
        cell.className = "date-picker";
        cell.innerHTML = "<span>" + date + "</span";

        if (
          date === today.getDate() &&
            year === today.getFullYear() &&
            month === today.getMonth()
        ) {
          cell.className = "date-picker selected";
        }

        // Check if there are events on this date
        if (hasEventOnDate(date, month, year)) {
          cell.classList.add("event-marker");
          cell.appendChild(
            createEventTooltip(date, month, year)
          );
        }

        row.appendChild(cell);
        date++;
      }
    }
    tbl.appendChild(row);
  }

  displayReminders();
}

// Function to create an event tooltip
function createEventTooltip(date, month, year) {
  let tooltip = document.createElement("div");
  tooltip.className = "event-tooltip";
  let eventsOnDate = getEventsOnDate(date, month, year);
  for (let i = 0; i < eventsOnDate.length; i++) {
    let event = eventsOnDate[i];
    let eventDate = new Date(event.date);
    let eventText = `<strong>${event.title}</strong> - 
${event.description} on 
${eventDate.toLocaleDateString()}`;
    let eventElement = document.createElement("p");
    eventElement.innerHTML = eventText;
    tooltip.appendChild(eventElement);
  }
  return tooltip;
}

// Function to get events on a specific date
function getEventsOnDate(date, month, year) {
  return events.filter(function (event) {
    let eventDate = new Date(event.date);
    return (
      eventDate.getDate() === date &&
        eventDate.getMonth() === month &&
        eventDate.getFullYear() === year
    );
  });
}

// Function to check if there are events on a specific date
function hasEventOnDate(date, month, year) {
  return getEventsOnDate(date, month, year).length > 0;
}

// Function to get the number of days in a month
function daysInMonth(iMonth, iYear) {
  return 32 - new Date(iYear, iMonth, 32).getDate();
}

// Call the showCalendar function initially to display the calendar
showCalendar(currentMonth, currentYear);
    </script>
  </body>
  </html>